# 2. Network

## 2.1 네트워크의 기초


### :star: 패킷(Packet)

네트워크 상 데이터를 송수신하는 __논리적인__ 단위.
- 헤더, 데이터, 트레일러로 구성됨.

패킷을 캡슐화(특정제어정보, 주로 Header를 추가하는 것)를 하면, 물리적인 데이터 단위 프레임으로 볼 수 있다.

![d](./src/L_packet.jpg)


```markdown
- 프로토콜 계층 별로 주로 사용되는 데이터 단위의 명칭
  ㅇ  7  응용 계층      : 메세지, 데이터 
  ㅇ  6  표현 계층      : 메세지, 데이터 
  ㅇ  5  세션 계층      : 메세지, 데이터
  ㅇ  4  전송 계층      : 세그먼트
  ㅇ  3  네트워크 계층  : 패킷, 데이터그램
  ㅇ  2  데이터링크 계층 : 프레임
  ㅇ  1  물리 계층      : 비트
```


- 처리량(throughput)
    단위 시간당 시스템에서 처리할 수 있는 데이터 양. 

- 지연 시간(latency)
    패킷망 상에서, 송신지부터 목적지 호스트까지, 패킷이 왕복하는데 걸리는 시간.

- 대역폭(bandwidth)
    단위 시간당 전송할 수 있는 데이터 양.

  대역폭은 데이터 전송 속도를 결정하는 요소이다. 시스템의 성능은 대역폭 이외의 다른 요소에도 영향을 받는다. 프로세서의 속도, 메모리 대역폭, 디스크 속도, 애플리케이션의 병목현상 등...


- 네트워크 토폴로지(topology)
  Tree, Bus, Star, Ring, Mesh,


- 스푸핑(Spoofing)
    IP 스푸핑: IP 패킷 내의 발신 IP 주소를 도용, 허가된 사용자인 것 처럼 위장.
    MAC 스푸핑: 이더넷 프레임의 발신 MAC 주소를 가공의 MAC 주소로 속여 발송. 
    (MAC 주소 테이블 버퍼를 초과시키는게 대표적)

- 병목현상(bottleneck)
  네트워크 토폴로지, 즉 구조에 따라 특정 구성요소가 마비될 경우 병목현상이 유발될 수 있다.
  

- 네트워크 분류
  LAN(Local), MAN(Metropolitan), WAN(Wide)

- 프로토콜(protocol)
  다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스.
  규칙보다는 표준으로 해석하는게 더 편하다.



## 2.2 TCP/IP 4계층 모델



### :star: Transmission Control Protocol/Internet Protocol

TCP/IP : TCP, IP 라고 불리는 프로토콜을 중심으로 구성되는 일련의 프로토콜들의 총칭. 100개가 넘는다.
application, transport, Internet, Link으로 4가지 계층을 가짐.

![d](./src/L_tcp1.jpg)
![d](./src/L_tcp2.jpg)


- application
  응용 프로그램이 사용되는 프로토콜 계층

- transport
  송신자와 수신자를 연결하는 통신 서비스 제공. 연결 지향 데이터 스트리 지원, 신뢰성, 흐름 제어. 애플리케이션과 인터넷 계층 사이의 데이터가 전달될 때 중계.

![d](./src/L_transport.jpg)

가상 회선 - 연결지향
데이터그램 - 비연결


- 3-way Handshaking 
  1. 세그먼트 1(SYN)        :   연결 요청(초기 동기화 패킷)
  2. 세그먼트 2(SYN + ACK)  :   연결 허락
  3. 세그먼트 3(ACK)        :   연결 설정

-> 신뢰적인 연결지향성(오류가 없는 세션유지...)

- 4-way Handshaking
  1. FIN 세그먼트           : 클라이언트측의 연결 종료 요청
  2. ACK 세그먼트           : 연결 종료 요청에 대한 서버측의 응답
  3. FIN + ACK 세그먼트     : 서버측의 종료 알림
  4. ACK 세그먼트           : 클라이언트측의 최종 종료 알림

  ㅇ TIME-WAIT
     - 최대 세그먼트 수명(MSL,Maximum Segment Lifetime)의 2배를 기다림
     - 지정된 시간이 지나면, Closed 상태로 전이됨


- Internet
  네트워크의 IP 주소를 정의하고, IP 패킷의 전달 및 라우팅을 담당.

  - 이중화 Duplexing 
    - 단일 매체, 장치, 포트에서 동시 양방향 통신을 가능케 함.
    - 안정성을 높이기 위해 동일 장치/구간 등을 2 이상 준비해두는 이중화

  전이중 : 동시에 양방향 전송
  반이중 : 한번에 한방향 전송




## 2.3 네트워크 기기







